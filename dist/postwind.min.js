window.PostWind=(()=>{let B={},O={},F={},M=document.createElement("style");M.id="postwind-main",document.head.appendChild(M);let E=document.createElement("style");E.id="postwind-shortcuts",document.head.appendChild(E);let h=new IntersectionObserver((z)=>{for(let D of z)D.target.classList.toggle("pw-visible",D.isIntersecting)},{threshold:0.5}),k=new WeakSet;function C(z){let D="."+CSS.escape(z);for(let G of document.styleSheets)try{for(let H of G.cssRules){if(!H.cssRules)continue;for(let K of H.cssRules)if(K.selectorText===D){let U=K.cssText.match(/\{\s*([^}]+)\s*\}/);return U?U[1].trim():null}}}catch(H){}return null}function u(z){let D="."+CSS.escape(z);for(let G of document.styleSheets)try{for(let H of G.cssRules){if(!H.cssRules)continue;for(let K of H.cssRules)if(K.selectorText===D)return K.cssText}}catch(H){}return null}function $(z){let D=document.createElement("div");return D.className=z,document.body.appendChild(D),new Promise((G)=>{requestAnimationFrame(()=>{G(C(z)),D.remove()})})}function g(z,D){B[z]=D}function d(z){let D=z.indexOf("{"),G=z.lastIndexOf("}");if(D===-1||G===-1)return null;return z.substring(D+1,G).trim()}function j(z,D){O[z]=D}function p(z){let D=O[z];if(!D)return Promise.resolve(null);let G=D.split(/\s+/),H=[];for(let U of G)if(O[U])H.push(...O[U].split(/\s+/));else H.push(U);let K=document.createElement("div");return K.className=H.join(" "),document.body.appendChild(K),new Promise((U)=>{requestAnimationFrame(()=>{let J=[];for(let L of H){let X=u(L);if(X)J.push(d(X))}if(K.remove(),!J.length)return U(null);U(`.${CSS.escape(z)} { ${J.join(" ")} }`)})})}let q=/^(.+-)(\d+(?:\.\d+)?)(px|rem|em|vh|vw|vmin|vmax|%|ch|ex|cap|lh|dvh|dvw|svh|svw|cqw|cqh)$/;function x(z){let D=z.indexOf(":");if(D===-1)return!1;let G=z.substring(0,D);return G.includes("-")&&!G.startsWith("visible")}function _(z,D){let G=D[0],H=G.lastIndexOf("-"),K=H!==-1?G.substring(0,H+1):"",U=CSS.escape(z);function J(L){let X=K+L,W=X.match(q);return W?`${W[1]}[${W[2]}${W[3]}]`:X}if(D.length===2){let L=J(D[1]),X=(()=>{let W=G.match(q);return W?`${W[1]}[${W[2]}${W[3]}]`:G})();return Promise.all([$(X),$(L)]).then(([W,A])=>{let V=[];if(W)V.push(`.${U} { ${W} }`);if(A)V.push(`${B.t} { .${U} { ${A} } }`);return V.length?V.join(`
`):null})}if(D.length===3){let L=J(D[1]),X=J(D[2]),W=(()=>{let A=G.match(q);return A?`${A[1]}[${A[2]}${A[3]}]`:G})();return Promise.all([$(W),$(L),$(X)]).then(([A,V,b])=>{let I=[];if(A)I.push(`.${U} { ${A} }`);if(V)I.push(`${B.t} { .${U} { ${V} } }`);if(b)I.push(`${B.d} { .${U} { ${b} } }`);return I.length?I.join(`
`):null})}return Promise.resolve(null)}function R(z){if(z.includes("@")){let J=z.match(/^([^@]+)@([a-z]+)$/);if(J){let L=J[2]+":"+J[1];return R(L).then((X)=>{if(!X)return null;return X.replace(CSS.escape(L),CSS.escape(z))})}}if(O[z])return p(z);if(z.includes("|"))return _(z,z.split("|"));if(x(z))return _(z,z.split(":"));let D=z.match(q);if(D){let J=`${D[1]}[${D[2]}${D[3]}]`;return $(J).then((L)=>{if(!L)return null;return`.${CSS.escape(z)} { ${L} }`})}if(z.startsWith("dark:")){let J=z.substring(5);return $(J).then((L)=>{if(!L)return null;return`body.dark .${CSS.escape(z)} { ${L} }`})}if(z.startsWith("visible:")){let J=z.substring(8);return $(J).then((L)=>{if(!L)return null;return`.pw-visible.${CSS.escape(z)} { ${L} }`})}let G=z.indexOf(":");if(G===-1)return $(z).then((J)=>J?`.${CSS.escape(z)} { ${J} }`:null);let H=z.substring(0,G),K=z.substring(G+1),U=B[H];if(H==="m")console.warn(`PostWind: "${z}" â€” m: prefix is unnecessary. PostWind is mobile-first, so "${K}" is already the mobile default. Use "${K}" directly and t:/d: for larger screens.`);if(!U)return $(z).then((J)=>J?`.${CSS.escape(z)} { ${J} }`:null);return $(K).then((J)=>{if(!J)return null;return`${U} { .${CSS.escape(z)} { ${J} } }`})}function Y(z){if(F[z])return F[z];let D=!!O[z],G=R(z).then((H)=>{if(H&&!F[z]._injected){let K=D?E:M;K.textContent+=H+`
`,F[z]._injected=!0}return H});return G._injected=!1,F[z]=G,G}function v(z){if(k.has(z))return;k.add(z),h.observe(z)}let f=/^(min|max)-(\d+):(.+)$/,Q=new WeakMap;function N(z,D,G,H,K){if(!Q.has(z))Q.set(z,[]),new ResizeObserver((J)=>{for(let L of J){let X=L.contentRect.width;for(let W of Q.get(z)||[]){let A=W.mode==="min"?X>=W.width:X<=W.width;z.classList.toggle(W.innerClass,A)}}}).observe(z);Q.get(z).push({mode:G,width:H,innerClass:K})}function i(z,D){let G=D.substring(7);setTimeout(()=>z.classList.add(G),100)}function S(z){if(O[z])return!0;if(z.startsWith("dark:"))return!0;if(z.startsWith("visible:"))return!0;if(z.startsWith("onload:"))return!0;if(z.includes("|"))return!0;if(z.includes("@"))return!0;if(x(z))return!0;if(q.test(z))return!0;if(f.test(z))return!0;return!1}function P(z){for(let D of z.classList)if(D.startsWith("onload:"))i(z,D);else if(D.startsWith("visible:"))v(z),Y(D);else if(f.test(D)){let G=D.match(f);N(z,D,G[1],parseInt(G[2]),G[3])}else if(O[D])Y(D);else if(S(D))Y(D)}function o(z){let D=(z||document).querySelectorAll("*");for(let G of D){if(!G.className||typeof G.className!=="string")continue;for(let H of G.classList)if(S(H)){P(G);break}}}function w(){function z(){if(!Z){requestAnimationFrame(z);return}Z.then(()=>o())}z()}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",w);else w();new MutationObserver((z)=>{if(!Z)return;Z.then(()=>{for(let D of z){if(D.type==="attributes"){if(D.target.nodeType===1)P(D.target);continue}for(let G of D.addedNodes){if(G.nodeType!==1)continue;if(G.className&&typeof G.className==="string")P(G);let H=G.querySelectorAll?.("*");if(H){for(let K of H)if(K.className&&typeof K.className==="string")P(K)}}}})}).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});let T=null;function m(){function z(){let D=window.innerWidth,G=D<768?"mobile":D<1024?"tablet":"desktop";if(G!==T){if(T)document.body.classList.remove(T);document.body.classList.add(G),T=G}}z(),window.addEventListener("resize",z)}let Z=null;function n(z){if(z){if(z.breakpoints)for(let[D,G]of Object.entries(z.breakpoints))g(D,G);if(z.shortcuts)for(let[D,G]of Object.entries(z.shortcuts))j(D,G)}if(typeof window<"u"&&window.matchMedia){if(document.body?.classList.contains("dark-auto")){if(window.matchMedia("(prefers-color-scheme: dark)").matches)document.body.classList.add("dark");window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",(G)=>{document.body.classList.toggle("dark",G.matches)})}}if(z&&z.body)m();if(Z)return Z;if(!z||!z.tailwind)return Z=Promise.resolve(),Z;if(document.querySelector('script[src*="tailwindcss/browser"]'))return Z=y(),Z;return Z=new Promise((D,G)=>{let H=document.createElement("script");H.src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4",H.onload=()=>y().then(D),H.onerror=()=>G(Error("Failed to load Tailwind")),document.head.appendChild(H)}),Z}function y(){return new Promise((z)=>{function D(){for(let G of document.styleSheets)try{if(G.ownerNode?.hasAttribute?.("data-tailwindcss")){z();return}}catch(H){}for(let G of document.styleSheets)try{for(let H of G.cssRules)if(H.constructor.name==="CSSLayerBlockRule"){z();return}}catch(H){}requestAnimationFrame(D)}D()})}return Y.init=n,Y.ready=()=>Z||Promise.resolve(),Y.breakpoint=g,Y.shortcut=j,Y.resolve=R,Y.twCSS=$,Y.cache=F,Y.observeVisible=v,Y.processElement=P,g("m","@media (max-width: 767px)"),g("t","@media (min-width: 768px)"),g("d","@media (min-width: 1024px)"),Y})();if(typeof document<"u"&&!document.querySelector('script[src*="tailwindcss/browser"]')){let B=document.createElement("script");B.src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4",document.head.appendChild(B)}var c=typeof window<"u"?window.PostWind:void 0;export{c as default};
