window.PostWind=(()=>{let g={},Y={},$={},I=document.createElement("style");I.id="postwind-main",document.head.appendChild(I);let E=document.createElement("style");E.id="postwind-shortcuts",document.head.appendChild(E);let v=new IntersectionObserver((W)=>{for(let U of W)U.target.classList.toggle("pw-visible",U.isIntersecting)},{threshold:0.5}),f=new WeakSet;function S(W){let U="."+CSS.escape(W);for(let D of document.styleSheets)try{for(let q of D.cssRules){if(!q.cssRules)continue;for(let A of q.cssRules)if(A.selectorText===U){let B=A.cssText.match(/\{\s*([^}]+)\s*\}/);return B?B[1].trim():null}}}catch(q){}return null}function b(W){let U="."+CSS.escape(W);for(let D of document.styleSheets)try{for(let q of D.cssRules){if(!q.cssRules)continue;for(let A of q.cssRules)if(A.selectorText===U)return A.cssText}}catch(q){}return null}function K(W){let U=document.createElement("div");return U.className=W,document.body.appendChild(U),new Promise((D)=>{requestAnimationFrame(()=>{D(S(W)),U.remove()})})}function O(W,U){g[W]=U}function h(W){let U=W.indexOf("{"),D=W.lastIndexOf("}");if(U===-1||D===-1)return null;return W.substring(U+1,D).trim()}function M(W,U){Y[W]=U}function d(W){let U=Y[W];if(!U)return Promise.resolve(null);let D=U.split(/\s+/),q=[];for(let B of D)if(Y[B])q.push(...Y[B].split(/\s+/));else q.push(B);let A=document.createElement("div");return A.className=q.join(" "),document.body.appendChild(A),new Promise((B)=>{requestAnimationFrame(()=>{let z=[];for(let G of q){let X=b(G);if(X)z.push(h(X))}if(A.remove(),!z.length)return B(null);B(`.${CSS.escape(W)} { ${z.join(" ")} }`)})})}let P=/^(.+-)(\d+(?:\.\d+)?)(px|rem|em|vh|vw|vmin|vmax|%|ch|ex|cap|lh|dvh|dvw|svh|svw|cqw|cqh)$/;function T(W){let U=W.indexOf(":");if(U===-1)return!1;let D=W.substring(0,U);return D.includes("-")&&!D.startsWith("visible")}function R(W,U){let D=U[0],q=D.lastIndexOf("-"),A=q!==-1?D.substring(0,q+1):"",B=CSS.escape(W);function z(G){let X=A+G,H=X.match(P);return H?`${H[1]}[${H[2]}${H[3]}]`:X}if(U.length===2){let G=z(U[1]),X=(()=>{let H=D.match(P);return H?`${H[1]}[${H[2]}${H[3]}]`:D})();return Promise.all([K(X),K(G)]).then(([H,Q])=>{let Z=[];if(H)Z.push(`.${B} { ${H} }`);if(Q)Z.push(`${g.t} { .${B} { ${Q} } }`);return Z.length?Z.join(`
`):null})}if(U.length===3){let G=z(U[1]),X=z(U[2]),H=(()=>{let Q=D.match(P);return Q?`${Q[1]}[${Q[2]}${Q[3]}]`:D})();return Promise.all([K(H),K(G),K(X)]).then(([Q,Z,y])=>{let V=[];if(Q)V.push(`.${B} { ${Q} }`);if(Z)V.push(`${g.t} { .${B} { ${Z} } }`);if(y)V.push(`${g.d} { .${B} { ${y} } }`);return V.length?V.join(`
`):null})}return Promise.resolve(null)}function w(W){if(Y[W])return d(W);if(W.includes("|"))return R(W,W.split("|"));if(T(W))return R(W,W.split(":"));let U=W.match(P);if(U){let z=`${U[1]}[${U[2]}${U[3]}]`;return K(z).then((G)=>{if(!G)return null;return`.${CSS.escape(W)} { ${G} }`})}if(W.startsWith("dark:")){let z=W.substring(5);return K(z).then((G)=>{if(!G)return null;return`body.dark .${CSS.escape(W)} { ${G} }`})}if(W.startsWith("visible:")){let z=W.substring(8);return K(z).then((G)=>{if(!G)return null;return`.pw-visible.${CSS.escape(W)} { ${G} }`})}let D=W.indexOf(":");if(D===-1)return K(W).then((z)=>z?`.${CSS.escape(W)} { ${z} }`:null);let q=W.substring(0,D),A=W.substring(D+1),B=g[q];if(q==="m")console.warn(`PostWind: "${W}" â€” m: prefix is unnecessary. PostWind is mobile-first, so "${A}" is already the mobile default. Use "${A}" directly and t:/d: for larger screens.`);if(!B)return K(W).then((z)=>z?`.${CSS.escape(W)} { ${z} }`:null);return K(A).then((z)=>{if(!z)return null;return`${B} { .${CSS.escape(W)} { ${z} } }`})}function L(W){if($[W])return $[W];let U=!!Y[W],D=w(W).then((q)=>{if(q&&!$[W]._injected){let A=U?E:I;A.textContent+=q+`
`,$[W]._injected=!0}return q});return D._injected=!1,$[W]=D,D}function j(W){if(f.has(W))return;f.add(W),v.observe(W)}function k(W){if(Y[W])return!0;if(W.startsWith("dark:"))return!0;if(W.startsWith("visible:"))return!0;if(W.includes("|"))return!0;if(T(W))return!0;if(P.test(W))return!0;return!1}function F(W){for(let U of W.classList)if(U.startsWith("visible:"))j(W),L(U);else if(Y[U])L(U);else if(k(U))L(U)}function C(W){let U=(W||document).querySelectorAll("*");for(let D of U){if(!D.className||typeof D.className!=="string")continue;for(let q of D.classList)if(k(q)){F(D);break}}}function _(){function W(){if(!J){requestAnimationFrame(W);return}J.then(()=>C())}W()}if(document.readyState==="loading")document.addEventListener("DOMContentLoaded",_);else _();new MutationObserver((W)=>{if(!J)return;J.then(()=>{for(let U of W){if(U.type==="attributes"){if(U.target.nodeType===1)F(U.target);continue}for(let D of U.addedNodes){if(D.nodeType!==1)continue;if(D.className&&typeof D.className==="string")F(D);let q=D.querySelectorAll?.("*");if(q){for(let A of q)if(A.className&&typeof A.className==="string")F(A)}}}})}).observe(document.documentElement,{childList:!0,subtree:!0,attributes:!0,attributeFilter:["class"]});let J=null;function u(W){if(W){if(W.breakpoints)for(let[U,D]of Object.entries(W.breakpoints))O(U,D);if(W.shortcuts)for(let[U,D]of Object.entries(W.shortcuts))M(U,D)}if(J)return J;if(!W||!W.tailwind)return J=Promise.resolve(),J;if(document.querySelector('script[src*="tailwindcss/browser"]'))return J=x(),J;return J=new Promise((U,D)=>{let q=document.createElement("script");q.src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4",q.onload=()=>x().then(U),q.onerror=()=>D(Error("Failed to load Tailwind")),document.head.appendChild(q)}),J}function x(){return new Promise((W)=>{function U(){for(let D of document.styleSheets)try{if(D.ownerNode?.hasAttribute?.("data-tailwindcss")){W();return}}catch(q){}for(let D of document.styleSheets)try{for(let q of D.cssRules)if(q.constructor.name==="CSSLayerBlockRule"){W();return}}catch(q){}requestAnimationFrame(U)}U()})}return L.init=u,L.ready=()=>J||Promise.resolve(),L.breakpoint=O,L.shortcut=M,L.resolve=w,L.twCSS=K,L.cache=$,L.observeVisible=j,O("m","@media (max-width: 767px)"),O("t","@media (min-width: 768px)"),O("d","@media (min-width: 1024px)"),L})();var N=typeof window<"u"?window.PostWind:void 0;export{N as default};
